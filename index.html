<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ƒë√¥i l·ªùi d√†nh cho embe y√™u</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&family=Tinos:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
  <style>
    :root{
      --paper:#fffaf3; /* warm cream */
      --ink:#4a3f35;   /* soft brown */
      --accent:#ffb86b;/* muted orange */
      --rose:#f7dfe7;  /* soft pink */
      --night:#0f172a; /* deep blue */
      --silver:#eef1f6;/* car-metal silver */
      --shadow:0 10px 25px rgba(0,0,0,.08);
    }
    *{box-sizing:border-box}
    html,body{margin:0;height:100%;background:linear-gradient(135deg,#fffdfa,#ffe8d6 40%,#fde2e4);color:var(--ink);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    .wrap{max-width:1100px;margin:0 auto;padding:32px}
    header{display:flex;align-items:center;gap:18px;flex-wrap:wrap;margin-bottom:22px}
    .title{font-weight:700;font-size:clamp(22px,4vw,36px)}
    .subtitle{opacity:.8}

    /* Quote pill */
    .quote{margin:18px 0 28px;display:flex;align-items:center;gap:10px;padding:12px 16px;border-radius:14px;background:rgba(255,255,255,.6);backdrop-filter:saturate(140%) blur(6px);box-shadow:var(--shadow)}
    .quote small{opacity:.7}

    /* Grid of envelopes */
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px}
    .card{position:relative;background:var(--paper);border-radius:18px;box-shadow:var(--shadow);padding:18px 16px 16px;border:1px solid rgba(0,0,0,.04);cursor:pointer;transition:transform .2s ease, box-shadow .2s ease}
    .card:hover{transform:translateY(-4px);box-shadow:0 14px 32px rgba(0,0,0,.12)}
    .card .tag{font-size:12px;letter-spacing:.12em;text-transform:uppercase;opacity:.6}
    .card h3{margin:.3rem 0 .2rem;font-size:18px}
    .card .hint{font-size:13px;opacity:.65}

    /* Envelope icon */
    .env{position:relative;width:64px;height:44px;margin:6px 0 10px}
    .env .body{position:absolute;inset:0;background:#ffd7b2;border:1px solid rgba(0,0,0,.06);border-radius:6px;}
    .env .flap{position:absolute;left:0;right:0;top:0;height:50%;background:linear-gradient(#ffbe7a,#ffcf9c);clip-path:polygon(0 0,100% 0,50% 100%);transform-origin:top;transition:transform .35s ease}
    .card:hover .env .flap{transform:rotateX(170deg)}

    /* Theme accents per letter */
    .t-warm{background:linear-gradient(180deg,#fff7ec,#fff)}
    .t-night{background:linear-gradient(180deg,#0b122b,#111b3a);color:#e6edff}
    .t-night .body{background:#1e2a52}
    .t-night .flap{background:linear-gradient(#2b3d7a,#1f2f5f)}
    .t-rose{background:linear-gradient(180deg,#ffeef5,#fff)}
    .t-silver{background:linear-gradient(180deg,#f4f7fb,#fff)}

    /* Modal letter page */
    .modal {
      position: fixed;
      inset: 0;
      display: none;
      place-items: center;
      background: rgba(0,0,0,.28);
      backdrop-filter: blur(3px);
      padding: 20px;
      z-index: 1000;
  /* no change here */
    }
    .modal.deep-blue {
      background: rgba(11, 18, 43, 0.8); /* deep blue backdrop */
    }
    .modal.deep-blue .letter,
    .modal.deep-blue .paper,
    .modal.deep-blue .page {
      background: #0b122b !important;
      color: #e6edff !important;
      border: 1px solid #223 !important;
    }
    .modal.deep-blue .polaroid {
      background: #101a36 !important;
      color: #e6edff !important;
      border: 1px solid #223 !important;
    }
    .modal::before {
      content: '';
      position: absolute;
      inset: 0;
      background: rgba(0,0,0,.2);
      border-radius: 22px;
      z-index: -1;
    }
    .modal.open {
      display: grid;
    }
    .letter {
      position: relative;
      max-width: 900px;
      width: 100%;
      background: var(--paper);
      border-radius: 22px;
      box-shadow: 0 25px 60px rgba(0,0,0,.25);
      padding: 26px;
      border: 1px solid rgba(0,0,0,.06);
      max-height: 90vh;           /* NEW: limit height to viewport */
      overflow-y: auto;           /* NEW: enable vertical scroll */
      overscroll-behavior: contain; /* Prevent scroll chaining */
    }
    .letter header{margin:0 0 8px;justify-content:space-between}
    .letter h2{font-family:"Dancing Script", cursive;font-weight:400;font-size:clamp(26px,4.5vw,38px);margin:6px 0}
    .tools{display:flex;gap:8px}
    .btn{appearance:none;border:0;border-radius:12px;padding:10px 14px;font-weight:600;background:#141414;color:#fff;cursor:pointer;box-shadow:var(--shadow)}
    .btn.secondary{background:#fff;color:#222;border:1px solid rgba(0,0,0,.1)}

    .paper{display:grid;grid-template-columns:1fr 220px;gap:20px;margin-top:10px}
    @media (max-width:760px){.paper{grid-template-columns:1fr}}
    .paper .page{padding:22px 18px 20px;border-radius:16px;background:repeating-linear-gradient(#fffaf3,#fffaf3 30px,#ffeede 31px);border:1px solid rgba(0,0,0,.06)}
    .hand{font-family:"Dancing Script", cursive;font-size:26px;line-height:1.7}

    /* Polaroid photo */
    .polaroid{justify-self:center;align-self:start;background:#fff;padding:10px 10px 16px;border-radius:10px;box-shadow:0 12px 22px rgba(0,0,0,.16);width:min(200px,90%);border:1px solid rgba(0,0,0,.08)}
    .polaroid img{width:100%;height:auto;border-radius:6px;display:block}
    .polaroid .cap{font-size:12px;margin-top:8px;text-align:center;opacity:.8}

    /* Mood backdrops inside letter */
    .bg-stars{background-image:radial-gradient(2px 2px at 20% 30%,#fff,transparent),radial-gradient(2px 2px at 60% 10%,#fff,transparent),radial-gradient(1px 1px at 80% 70%,#fff,transparent);background-color:#0b122b;color:#e6edff}
    .bg-stars.page {background: #0b122b !important; color: #e6edff; border: 1px solid #223;}
    .bg-stars.page {background: #0b122b !important;color: #e6edff;border: 1px solid #223;}
    .bg-sun{background:linear-gradient(180deg,#fff7d6,#fff)}
    .bg-cozy{background:linear-gradient(180deg,#fdf1f1,#fff)}
    .bg-steel{background:linear-gradient(180deg,#eef1f6,#fff)}

    /* Footer + easter egg */
    footer{margin:28px 0 8px;display:flex;justify-content:space-between;align-items:center;opacity:.7;font-size:13px}
    .egg{cursor:pointer;user-select:none}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <div class="title">G·ª≠i embe c·ªßa em, n√†y l√† ƒë√¥i l·ªùi em mu·ªën t·∫∑ng embe üíå</div>
        <div class="subtitle">Ch·ªçn m·ªôt l√° h√¥m nay nha!</div>
      </div>
    </header>

    <div class="quote">
      <strong>Nh·ªõ n√®:</strong>
      <span id="quote-text">Ng√†y n√†o em c≈©ng y√™u anh h·∫øt</span>
    </div>

    <section class="grid" id="grid"></section>

    <footer>
      <span>Made with ‚ô• by m∆∞a.</span>
      <span class="egg" id="egg" title="psst‚Ä¶ click me">üèÄ</span>
    </footer>
  </div>

  <!-- Modal / Letter View -->
  <div class="modal" id="modal">
    <div class="letter" role="dialog" aria-modal="true" aria-labelledby="letter-title">
      <header>
        <div>
          <div class="tag" id="letter-tag">Letter</div>
          <h2 id="letter-title">For the days‚Ä¶</h2>
        </div>
        <div class="tools">
          <button class="btn secondary" id="backBtn">Back</button>
          <button class="btn" id="saveBtn" title="Save this letter as image">Save</button>
        </div>
      </header>

      <div class="paper">
        <div class="page hand" id="letter-content">
          <!-- letter text injected here -->
        </div>
        <figure class="polaroid">
          <img id="photo" alt="Our photo placeholder" src="https://images.unsplash.com/photo-1529336953121-ad5a0d43d0d2?q=80&w=600&auto=format&fit=crop" />
          <figcaption class="cap" id="photo-cap">Us, being us ‚ô°</figcaption>
        </figure>
      </div>
    </div>
  </div>

  <script>
    // ====== EDIT HERE: Your letters data ======
    // Replace 'content' with your real words. Replace 'photo' with your image URLs.
    const LETTERS = [
      {
        key: 'bad-day',
        tag: 'qua ƒë√¢y tui √¥m',
        title: 'N·∫øu embe m∆∞a b√πn t·ªânh l·∫ª',
        hint: 'cho em √¥m h√¥n embe nh√¨u c√°i nha',
        theme: 't-rose',
        pageBg: 'bg-cozy',
        icon: 'üíó',
        photo: 'bad-day.jpg', // replace with your photo path
        caption: '√¥m anh nhi·ªÅu c√°i',
        content: `G·ª≠i embe y√™u,\nN·∫øu h√¥m nay ng√†y c·ªßa anh h∆°i n·∫∑ng n·ªÅ m·ªôt t·∫πo, th√¨ cho em chia s·∫ª g√°nh n·∫∑ng tr√™n vai embe nha (vai embe ƒë·∫πp g√≤i kcan g√°nh n·∫∑ng qu√° ƒë√¢uu). Embe y√™u h√≠t th·ªü ƒë·ªÅuu, l√¥i album ra coi l·∫°i ·∫£nh em, g√≤i nh·∫Øn tin g·ªçi ƒëi·ªán nh√µng nh·∫Ωo v·ªõi em nhaa. \nEmbe n√®, n·∫øu m·ªát qu√° th√¨ ph·∫£i ngh·ªâ, bu·ªìn th√¨ c√≥ th·ªÉ kh√≥c, v·ªÅ ƒë√¢y em d·ªó nha. ƒê·ªÉ em c·∫Øn embe m·ªôt c√°i nha cho embe vui l√™n nhaa:) \nEm t·ª± h√†o v√¨ embe, l√∫c n√†o c≈©ng v·∫≠y.`
      },
      {
        key: 'miss-me',
        tag: 'em nh·ªõ anh',
        title: 'N·∫øu embe nh·ªõ em',
        hint: 'em v·∫´n lu√¥n ·ªü ƒë√¢y c·∫°nh embe m√†, nha.',
        theme: 't-warm',
        pageBg: 'bg-sun',
        icon: 'üìÆ',
        photo: 'miss-me.PNG',
        caption: 'em y√™u anh',
        content: `G·ª≠i embe,\nEmbe nay nh·ªõ em √†? Em c≈©ng nh·ªõ anh. Cho em g·ª≠i embe 1 c√°i √¥m h√¥n nha. Bi·∫øt l√† y√™u xa s·∫Ω kh√≥, embe nh·ªâ? Nh∆∞ng em v·∫´n lu√¥n ·ªü ƒë√¢y m√†, ch·ªâ c√°ch embe 1 c√°i tin nh·∫Øn th√¥i. Nh·ªõ em th√¨ nh·∫Øn, th√¨ g·ªçi em nha. ·∫¢nh em ch·∫Øc s·∫Ω ·ªü tr√™n t∆∞·ªùng embe nh·ªâ, l√¥i ra ng·∫Øm tui coii, ·∫£nh xinh v·∫≠y m√†. \nM√¨nh s·∫Ω g·∫∑p l·∫°i nhau th√¥i m√†, embe nh·ªâ? N√™n l√†, anh ph·∫£i ƒÉn ngon ng·ªß k·ªπ, chƒÉm s√≥c b·∫£n th√¢n th·∫≠t t·ªët nha. ChƒÉm lo z√¥ ƒë·ªÉ nƒÉm sau v·ªÅ cho em ch√©n embe. nha nha nha. \nEm y√™u anh. `
      },
      {
        key: 'motivation',
        tag: 'em t·ª± h√†o v√¨ anh',
        title: 'N·∫øu embe c·∫ßn m·ªôt t·∫πo ƒë·ªông l·ª±c',
        hint: 'anh l√†m ƒë∆∞·ª£c m√†, tin em ƒëi',
        theme: 't-silver',
        pageBg: 'bg-steel',
        icon: 'üèÅ',
        photo: 'motivation.jpg',
        caption: 'ngoan qu√° v·ªÅ em b·∫ø nha',
        content: `G·ª≠i anh,\nH√¥m nay embe c·∫ßn th√™m 1 t·∫πo ƒë·ªông l·ª±c h·∫£? V·∫≠y ƒë·ªÉ emm. L√∫c n√†o embe c≈©ng ƒë√£ r·∫•t c·ªë g·∫Øng r·ªìi nh·ªâ, nh·ªõ nh·∫Øn cho em v·ªÅ m·ªçi n·ªó l·ª±c be b√© c·ªßa embe nha. Embe y√™u c·ªßa tui l√† siu nh√¢n benten gi·∫£i c·ª©u th·∫ø gi·ªõi (th·∫ø gi·ªõi c·ªßa embe l√† tui). C·ª© nh√¨n v√†o n·ªó l·ª±c x√≠u xiu t·ª´ng ng√†y thui embe nh·ªâ? Ng·ªß s·ªõm 1 t√≠, d·∫≠y s·ªõm 1 t·∫πo, ƒÉn u·ªëng ƒë·ªß b·ªØa, ƒëi t·∫≠p cho ngol zai h∆°n, b·ªè ƒë∆∞·ª£c 1 ƒëi·∫øu thu·ªëc l√† ƒë√£ qu√° ngoan g√≤ii. \nEmbe ngoan lu√¥n c·ªë g·∫Øng v·∫≠y m√†, ƒë·ª´ng so s√°nh v·ªõi ng·ª´i ta, m√† c≈©ng ƒë·ª´ng lo nghƒ© qu√° nhi·ªÅu v·ªÅ t∆∞∆°ng lai nha embe, m√¨nh s·ªëng ·ªü hi·ªán t·∫°i m√†. C·ª© c·ªë g·∫Øng trong t·ª´ng gi√¢y t·ª´ng ph√∫t ·ªü hi·ªán t·∫°i l√† ƒë√£ t·ªët l·∫Øm g√≤i.\nC·ªë g·∫Øng ƒë·ªÉ t·ª± m√¨nh c·∫£m th·∫•y tho·∫£i m√°i, t·ª± h√†o v·ªÅ ch√≠nh b·∫£n th√¢n m√¨nh nha embe. ƒê·ª´ng lo nghƒ© v·ªÅ ng∆∞·ªùi kh√°c l√†m g√¨ c·∫£, anh l√† quan tr·ªçng nh·∫•t, nh·ªõ t·ª± khen m√¨nh m·ªói khi embe ngoan nha, c√≤n kh√¥ng ƒë·ªÉ k·ªÉ tuii, ƒë·ªÉ tui khen embe y√™u nha. \nM·ªôt l·∫ßn n·ªØa, em y√™u anh nhi·ªÅu.`
      },
      {
        key: 'cant-sleep',
        tag: 'embe ng·ªß ngoan',
        title: 'N·∫øu embe ch∆∞a ng·ªß ƒë∆∞·ª£c',
        hint: 'count my kisses, not sheep',
        theme: 't-night',
        pageBg: 'bg-stars',
        icon: 'üåô',
        photo: 'night.PNG',
        caption: 'cho em ng·ªß c·∫°nh embe gi·ªëng h√¥m ƒëi nh√† ngh·ªâ nha h√™h',
        content: `G·ª≠i embe, \nT·ª± d∆∞ng nay b·ªã kh√≥ ng·ªß h·∫£ anh? N·∫±m xu·ªëng n√®, kh√¥ng nghi·∫øn rƒÉng nha, l√¥i g·∫•u b√¥ng ra √¥m, g√≤i t·ª´ t·ª´ m∆° v·ªÅ em nha. \nƒê·ª´ng l∆∞·ªõt tiktok kh√¥ng kh√≥ ng·ªß, √∫ng n∆∞·ªõc v·ª´a th√¥i kh√¥ng bu·ªìn t√®e :) N·∫±m ƒë·∫øm coi em h√¥n anh bao nhiu l·∫ßn g√≤i, r·ªìi ng·ªß nha. Kh√¥ng ng·ªß ƒë∆∞·ª£c th√¨ nh·∫Øn cho em, ƒë·ªÉ em ch√∫c embe ng·ªß ngoan. \nNg·ªß ƒë·ªÉ mai d·∫≠y s·ªõm, t·∫≠p gym, ƒÉn s√°ng ngoan, c√≥ m·ªôt ng√†y m·ªõi nƒÉng ƒë·ªông y√™u ƒë·ªùi nha. H√¥m nay embe ƒë√£ c·ªë g·∫±ng nhi·ªÅu r·ªìi, n√™n gi·ªù nh·∫Øm m·∫∑t l·∫°i ƒë·ªÉ ng·ªß ngon nha anh. \nEm y√™u anh, ng·ªß ngoan nha.`
      },
      {
        key: 'proud',
        tag: 'embe siu nh√¢n',
        title: 'N·∫øu nay embe th·∫•y t·ª± h√†oo',
        hint: 'embe x·ª©ng ƒë√°ng v·ªõi m·ªçi ƒëi·ªÅu tuy·ªát v·ªùi',
        theme: 't-warm',
        pageBg: 'bg-sun',
        icon: 'üèÜ',
        photo: 'proud.jpg',
        caption: 'embe t·ª± h√†o tr√¥ng xinh l·∫Ømm',
        content: `G·ª≠i anh, \n·ªé nay embe y√™u c·ªßa t√¥y ƒë√£ r·∫•t l√† si√™u nh√¢nn, em t·ª± h√†o v·ªÅ anh. Embe c∆∞·ªùi xinh, nh·ªõ k·ªÉ cho t√¥y nha. T·ª± khen b·∫£n th√¢n, d√†nh cho m√¨nh m·ªôt t·∫πo th·ªùi gian ƒë·ªÉ nh√¨n l·∫°i nh·ªØng g√¨ m√¨nh ƒë√£ c·ªë g·∫Øng ƒë·∫°t ƒë∆∞·ª£c nha. Nh·ªõ l·∫°i c·∫£m gi√°c ƒë√≥ ƒë·ªÉ c√≤n l√† ƒë·ªông l·ª±c cho m√¨nh ti·∫øp t·ª•c c·ªë g·∫Øng ch·ª©, embe nh·ªâ? \nEmbe ƒë√£ r·∫•t c·ªë g·∫Øng, v√† ƒë√£ ƒë·∫°t ƒë∆∞·ª£c r·∫•tt nhi·ªÅu ƒëi·ªÅu hay ho, c∆∞·ªùi vui v√† cho em √¥m anh m·ªôt c√°i nha. Em r·∫•t t·ª± h√†o v√¨ anh.\n Kh√¥ng c√≥ g√¨ l√† embe y√™u c·ªßa t√¥y kh√¥ng l√†m ƒë∆∞·ª£c c·∫£, nh·ªâi? \nNgoan v·ªÅ em cho ch√©n em nha. Em y√™u anh`
      },
      {
        key: 'overthink',
        tag: 'h√¥n m·ªôt c√°i',
        title: 'N·∫øu embe suy nghƒ© nh√¨u',
        hint: 'k·ªÉ cho em h·∫øt nh·ªØng g√¨ embe nghƒ© nha',
        theme: 't-silver',
        pageBg: 'bg-sun',
        icon: 'üåü',
        photo: 'overthink.JPG',
        caption: 'ƒë·ª´ng nghƒ© n·ªØa ng·∫Øm em n√¨e',
        content: `G·ª≠i anh, \nEmbe c·ªßa em nay b·ªã suy nghƒ© nh√¨u ƒëi·ªÅu h·∫£? Anh bi·∫øt l√† suy nghƒ© nhi·ªÅu l√† kh√¥ng t·ªët nh·ªâ? Em nghƒ© ch·∫Øc anh c≈©ng kh√¥ng mu·ªën ph·∫£i suy nghƒ© qu√° nhi·ªÅu v·∫≠y. \nNghe em n√®, suy nghƒ© nhi·ªÅu l√† ƒëi·ªÅu m√¨nh kh√¥ng th·ªÉ tr√°nh kh·ªèi, nh∆∞ng embe th·ª≠ c·ªë g·∫Øng theo d√µi nh·ªØng suy nghƒ© c·ªßa m√¨nh nh√©. ƒê·ª´ng chi lo l·∫Øng v·∫©n v∆°, t·∫≠p trung suy nghƒ© v√† v√† nh·ªõ l·∫°i nh·ªØng ƒëi·ªÅu ƒë·∫•y, ƒë·ªÉ d√≤ng suy nghƒ© kh√¥ng tr·ªü th√†nh m·ªôt v√≤ng l·∫∑p lu·∫©n qu·∫©n nha. Embe c√≥ th·ªÉ th·ª≠ vi·∫øt ra ƒë·ªÉ keep track v·ªõi suy nghƒ© c·ªßa m√¨nh t·ªët h∆°n, ho·∫∑c l√† g·ªçi cho em nhaa.\nNh·ªõ t·∫≠p trung v√†o nh·ªØng ƒëi·ªÅu m√¨nh c√≥ th·ªÉ ki·ªÉm so√°t, v√† ch·ªâ t·∫≠p trung nƒÉng l∆∞·ª£ng c·ªßa m√¨nh v√†o nh·ªØng ƒëi·ªÅu ƒë√≥ th√¥i nha. \nEm bi·∫øt l√† n√≥i th√¨ d·ªÖ h∆°n l√†m, nh∆∞ng c≈©ng kh√¥ng th·ªÉ ƒë·ªÉ nh·ªØng d√≤ng suy nghƒ© l·ªôn x·ªôn l√†m m√¨nh c·∫©m th·∫•y kh√≥ ch·ªãu ch·ª©, ƒë√∫ng kh√¥ng ·∫°a?\n Em lu√¥n ·ªü ƒë√¢y ƒë·ªÉ l·∫Øng nghe t·∫•t c·∫£ nh·ªØng g√¨ embe mu·ªën chia s·∫ª, nha. Kh√¥ng c·∫ßn suy nghƒ© nhi·ªÅu, c·ª© g·ªçi cho em. N·∫øu em ƒëang ng·ªß th√¨ nh·∫Øn emm, em s·∫Ω rep embe li·ªÅn. \n Em y√™u anh.`
      },
      {
        key: 'supercar',
        tag: 'l√†m l√†nh ch·ªØa t√¨nh',
        title: 'N·∫øu m·ªôt ng√†y embe gi·∫≠n em',
        hint: 'cho em xin l·ªói',
        theme: 't-warm',
        pageBg: 'bg-steel',
        icon: 'üåª',
        photo: 'sorry.jpg',
        caption: 'em y√™u anh nhi·ªÅu h∆°nn',
        content: `G·ª≠i anh,\nNay em c√≥ l√†m g√¨ khi·∫øn embe bu·ªìn l√≤ng h·∫£? Embe ƒë·ª´ng gi·ªØ trong l√≤ng, m√† c·ª© n√≥i th·∫≥ng cho em nghen. Em bi·∫øt l√† nhi·ªÅu khi em n√≥i ra nh·ªØng ƒëi·ªÅu ch∆∞a nghƒ© k·ªπ, l√†m embe b·ªã t·ªïn th∆∞∆°ng. Nh∆∞ng em ch·ªâ mu·ªën n√≥i l√† ƒë√≥ ch·ªâ l√† nh·ªØng l·ªùi n√≥i vu v∆° ch∆∞a ƒë∆∞·ª£c suy nghƒ© k·ªπ th√¥i nha. Em y√™u anh m√†, kh√¥ng c√≥ √Ω l√†m t·ªïn th∆∞∆°ng embe ƒë√¢u. \n Thi tho·∫£ng em hay b·ª±c d·ªçc gi·∫≠n d·ªói √≠, m√† em kh√¥ng quen n√≥i ra, n√™n l·∫°i l√†m embe bu·ªìn. N√™n l√†, c√≥ g√¨ th√¨ ph·∫£i g·ªçi em nha, g·ªçi m·∫Øng em, d·ªói em, cho em d·ªó nha. Anh ƒë·ª´ng nghƒ© nh√¨u, em m·ªõi l√† l·∫ßn ƒë·∫ßu y√™u ƒë∆∞∆°ng m√†, n√™n ƒë·ª´ng bu·ªìn em nha. \nEmbe bu·ªìn em c≈©ng bu·ªìn ·∫•y, nha. ƒê·ª´ng c√≥ gi·ªØ trong l√≤ng, c≈©ng ƒë·ª´ng nghƒ© linh tinh. C√≥ g√¨ l√† ph·∫£i n√≥i em lun, nha anh. \n Anh nh·ªõ n√®, em y√™u anh. N√™n kh√¥ng c√≥ l√Ω do g√¨ l·∫°i khi·∫øn em mu·ªën l√†m t·ªïn th∆∞∆°ng anh c·∫£, nha. \nEm y√™u anh nhi·ªÅu h∆°n.`
      },
      {
        key: 'birthday',
        tag: 'special',
        title: 'Ng√†y sinh nh·∫≠t anh',
        hint: 'open me today',
        theme: 't-rose',
        pageBg: 'bg-cozy',
        icon: 'üéÇ',
        photo: 'birthday.jpg',
        caption: 'sinh nh·∫≠t embe y√™u',
        content: `·ªé h√¥m nay l√† sinh nh·∫≠t embe y√™u n√®\nC·∫£m ∆°n embe v√¨ th·ªùi gian v·ª´a qua ƒë√£ b∆∞·ªõc ch√¢n v√†o cu·ªôc ƒë·ªùi em, khi·∫øn em vui h∆°n nh√¨uu. Ch√∫c anh m·ªôt nƒÉm tu·ªïi m·ªõi ƒÉn u·ªëng t·ª≠ t·∫ø, l√†m v·ªãc chƒÉm ngoan, ƒë·ªô ƒë√≠c ƒë·ªô z√∫ b·ª± cho em s·ªù (m·∫∑c d√π gi·ªù anh ngon zai s·∫µn g√≤ii). Ch√∫c anh lu√¥n gi·ªØ ƒë∆∞·ª£c ƒë·ªông l·ª±c, l√†m m·ªõi b·∫£n th√¢n, ti·∫øn t·ªõi m·ª•c ti√™u v√† ƒë·∫°t ƒë∆∞·ª£c cu·ªôc s·ªëng anh mong mu√¥n. \nCh√∫c anh s·∫Ω vui v·∫ª y√™u ƒë·ªùi, g·∫∑p ƒë∆∞·ª£c nhi·ªÅu ng∆∞·ªùi ƒë·ªëi x·ª≠ t·ªët v·ªõi anh, b·ªè m·ªãe m·∫•y ng·ª´i n√≥i nh√¨u l·∫Øm chuy·ªán hay xoi m√≥i toxic ra kh·ªèi cu·ªôc ƒë·ªùi nhaa. Ch√∫c anh ƒÉn ngoan ch√≥ng l·ªõn, quan t√¢m t·ªõi b·∫£n th√¢n, u·ªëng n∆∞·ªõc nh√¨u l√† t·ªët nma u·ªëng v·ª´a thui, ng·ªß kh√¥ng nghi·∫øn rƒÉng, ƒëi t·∫Øm s·ªõm, ƒëi ng·ªß s·ªõm, ng√†y n√†o c≈©ng nƒÉng ƒë·ªông y√™u em nha. \n Em y√™u anh, ch√∫c m·ª´ng sinh nh·∫≠t embe y√™u. `
      }
    ];

    const QUOTES = [
      'You are loved in all your versions.',
      'On your worst day, I still choose you.',
      'We‚Äôre a team ‚Äî and our team wins.',
      'Take the tiniest step. I‚Äôm proud already.',
      'Wherever you are, you‚Äôre home to me.',
    ];

    // ====== Render grid ======
    const grid = document.getElementById('grid');
    LETTERS.forEach((l, i) => {
      const card = document.createElement('article');
      card.className = `card ${l.theme}`;
      card.setAttribute('data-key', l.key);
      card.innerHTML = `
        <div class="tag">${l.tag}</div>
        <div class="env" aria-hidden="true">
          <div class="body"></div>
          <div class="flap"></div>
        </div>
        <h3>${l.icon} ${l.title}</h3>
        <div class="hint">${l.hint}</div>
      `;
      card.addEventListener('click', () => openLetter(l.key));
      grid.appendChild(card);
    });

    // Random quote
    document.getElementById('quote-text').textContent = QUOTES[Math.floor(Math.random()*QUOTES.length)];

    // ====== Modal logic ======
    const modal = document.getElementById('modal');
    const backBtn = document.getElementById('backBtn');
    const saveBtn = document.getElementById('saveBtn');
    const letterTag = document.getElementById('letter-tag');
    const letterTitle = document.getElementById('letter-title');
    const letterContent = document.getElementById('letter-content');
    const photo = document.getElementById('photo');
    const cap = document.getElementById('photo-cap');

    function openLetter(key){
        const L = LETTERS.find(x=>x.key===key);
        if(!L) return;
        letterTag.textContent = L.tag;
        letterTitle.textContent = L.title;
        // Replace \n with <br> for visible line breaks
        letterContent.innerHTML = L.content.replace(/\n/g, '<br>');
        letterContent.className = `page hand ${L.pageBg}`;
        photo.src = L.photo;
        cap.textContent = L.caption || '';
        // Add or remove deep-blue class for modal
        if (L.key === 'cant-sleep') {
          modal.classList.add('deep-blue');
        } else {
          modal.classList.remove('deep-blue');
        }
        modal.classList.add('open');
    }

    backBtn.addEventListener('click', ()=> modal.classList.remove('open'));
    modal.addEventListener('click', e=>{ if(e.target===modal) modal.classList.remove('open'); });

    // Optional: Save the letter area as image (simple print dialog fallback)
    // For simplicity (no libs), we trigger print for now.
    saveBtn.addEventListener('click', ()=> window.print());

    // Easter egg: secret bonus letter via basketball icon
    document.getElementById('egg').addEventListener('click', ()=>{
      const secret = {
        key:'secret', tag:'psst', title:'H∆∞·ªõng d·∫´n s·ª≠ dung l√†m ng∆∞·ªùi y√™u em', hint:'', theme:'t-rose', pageBg:'bg-cozy', icon:'üíå',
        photo:'bonus.JPG', caption:'Our inside joke',
        content:`·ªé embe t√¨m th·∫•y cnay c∆° h·∫£\nEm s·∫Ω n√≥i v√†i ƒë√¨u m√† c√≥ th·ªÉ embe th·∫•y kh√≥ h·ªâuu\n1. Thi tho·∫£ng em hay silent treatment (em b√≠c l√† kh√¥ng t·ªët huhu nh∆∞ng m√† n·∫øu em kh√¥ng im l·∫∑ng th√¨ em d·ªÖ b·ªã c√°u g√≤i n√≥i l·ªùi kh√¥ng hay) nma em s·∫Ω c·ªë g·∫Øng n√≥i cho embe. Ch·∫≥ng qua l√† c√≥ th·ªÉ c√≥ v√†i chuy·ªán em s·ª£ n√≥i ra l√†m embe c≈©ng phi·ªÅn l√≤ng √Ω, ho·∫∑c em s·ª£ do em kh√≥ t√≠nh nh·∫°y c·∫£m th√¨ em c≈©ng kh√≥ n√≥i raa. L√∫c n√†o t·ª± d∆∞ng em im im r·ªìi rep nghi√™m t√∫c l√† d·ªÖ l√† em ƒëang c·ªçc nha. \nEm ƒë·∫∑c bi·ªát ƒë·ªÉ √Ω n·∫øu em c·∫£m th·∫•y t√¨nh c·∫£m c·ªßa m√¨nh kh√¥ng ƒë∆∞·ª£c h·ªìi ƒë√°p √≠, ki·ªÉu em hay suy nghƒ© c√≥ qua c√≥ l·∫°i, n√™n n·∫øu em l√†m cgi cho ng·ª´i ta m√† kh√¥ng ƒë∆∞·ª£c l√†m l·∫°i m·ªôt vi·ªác s√™m s√™m th√¨ em hay b·ªã bu·ªìn g√≤i em kh√¥ng l√†m l·∫°i l·∫ßn 2 huhu. \n3. Em thi tho·∫£ng overthink nhi·ªÅu ƒëi·ªÅu nh·ªè nh·∫∑t, xong t·ª± b·ª±c t·ª± d·ªói, xong em ghim √≠ huhu. Em x·∫•u t√≠nh l·∫Øm \n4. Em th√≠ch ƒë∆∞·ª£c anh quan t√¢m, th√≠ch ƒë∆∞·ª£c anh th·ªÉ hi·ªán t√¨nh c·∫£mm, nma em thi tho·∫£ng v·∫´n h∆°i k√©m ph·∫ßn ƒë√≥ t·∫°i ch∆∞a quen, t√≠nh em c≈©ng kh√¥ng ph·∫£i ki·ªÉu qu√° th√≠ch t∆∞∆°ng t√°c gi·ªØa con ng∆∞·ªùi, em t·ª± d√†nh th·ªùi gian m·ªôt m√¨nh nhi·ªÅu √≠, n√™n nh√¨u khi kphai em b·ªõt y√™u anh hay g√¨, m√† l√† t√≠nh em z·ªã thui. (ƒë·∫∑c bi·ªát l√† l√∫c em b·∫≠n h·ªçc b·∫≠n thi √≠ ch·∫Øc em s·∫Ω nh·∫Øn tin v·ªõi anh √≠t h∆°n t·∫πo nma em s·∫Ω b√°o c√°o anh nhaa). \n5.Anh l√† ng∆∞·ªùi ƒë·∫ßu ti√™n em y√™u, em c≈©ng ch∆∞a baoh nh·∫Øn tin y√™u ƒë∆∞∆°ng v·ªõi ai kh√°c, kh√¥ng m·∫≠p m·ªù nh·∫≠p nh·∫±ng v·ªõi ai, c≈©ng kh√¥ng c√≥ th√≥i quen ntin xin info v√† k ntin v·ªõi ng·ª´i l·∫°, n√™n anh ƒë·ª´ng suy nghƒ© nh√¨u m·∫•y v·ª• ƒë√≥ (em n√≥i z·ªã thui ch·ª© kphai em b·∫£o anh suy nghƒ© nh√¨uu) \n6. L√∫c em d·ªói √≠, ƒë·ª´ng nh·∫Øn xin l·ªói nh√° :) em c≈©ng kh√¥ng h·ªâu sao m√† em kh√¥ng th√≠ch c√¢u ƒë√≥ huhu. C√≥ g√¨ c·ª© nh·∫Øn xloi g√≤i b·∫£o t·ª´ sau kh√¥ng l√†m z·ªã l√† ƒëc (m√† anh ph·∫£i b√≠c anh l√†m z√¨ ch∆∞a ƒë√∫ng c∆°, c√≤n kh√¥ng th√¨ th√¥y ƒë·ª´ng xloi n·∫øu kphai l·ªói c·ªßa anh nhaa). C·ª© g·ªçi cho em √≠, ntin em d·ªói l√† em rep ch·∫≠m ƒë·∫•y, g·ªçi ƒëi em nghe, nha.  \n7. Em y√™u anh nh√¨u, c√≥ g√¨ em nghƒ© ra em update ti·∫øpp.`
      };
      openLetter('secret');
      // temporarily inject so image loads
      LETTERS.push(secret);
    });

  </script>
</body>
</html>
